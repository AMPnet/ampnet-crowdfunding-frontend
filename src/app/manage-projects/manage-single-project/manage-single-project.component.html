<div id="core-root-manager" class="container root-content-container">

  <!-- Wallet exists -->
  <div *ngIf="wallet != undefined" class="row row-eq-height">
    <h5 class="text-uppercase mb-3 col-md-8">Manage your project</h5>
    <div class="col-md-4">
      <button routerLink="/dash/offers/{{project.id}}" class="btn btn-primary btn-action-a px-3 float-right">
        <i class="fas fa-anchor mr-2"></i>
        Preview project
      </button>
    </div>

    <div class="col-md-12 mt-3 mb-3">
      <button routerLink="revenue_share" class="w-100 btn btn-danger py-3">
        <i class="fas fa-chart-pie mr-2"></i>
        Start revenue share
      </button>
    </div>

    <div class="col-md-12 mb-2">
      <div class="explainer-mini text-uppercase">Name</div>
    </div>

    <div class="input-group mb-3 col-md-12">
      <input id="mint-amount" type="text" class="form-control" aria-label="Username" aria-describedby="basic-addon1"
        value="{{project.name}}">
    </div>

    <div class="col-md-12 mb-2">
      <div class="explainer-mini text-uppercase">Description</div>
    </div>
    <div class="input-group mb-3 col-md-12">
      <textarea class="form-control" name="" id="" cols="30" rows="10">{{project.description}}</textarea>
    </div>

    <div class="col-md-12 mb-2">
      <div class="explainer-mini text-uppercase">Location colloquial name</div>
    </div>

    <div class="input-group mb-3 col-md-12">
      <input id="mint-amount" type="text" class="form-control" aria-label="Username" aria-describedby="basic-addon1"
        value="{{project.name}}">
    </div>

    <here-map></here-map>

    <div class="col-md-12">
      <hr>
    </div>

    <p class="explainer-mini text-uppercase col-sm-12">Project image</p>

    <div class="col-md-12" id="drag-drop-area-img"></div>

    <div class="col-md-12">
      <hr>
    </div>

    <p class="explainer-mini text-uppercase col-md-8 mt-3">Project files</p>

    <div class="col-md-4 mt-3">
      <button id="proj-files-upload-target" class="btn btn-primary float-right px-5 py-3">
        <i class="fas fa-plus mr-3"></i>
        <span>Add files</span>
      </button>
    </div>

    <div *ngIf="files.length == 0" class="col-md-12 mt-3">
      <div class="border p-5 text-center">
        No files added
      </div>
    </div>

    <div *ngFor="let file of project.documents; let i = index" class="col-md-6 mt-3">
      <div class="card">
        <div class="card-body d-flex flex-row justify-content-between">
          <div class="w-75" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis">{{file.name}}</div>
          <span class="float-right">
            <span class="mr-3 cursor-pointer gray-text" (click)="deleteFile(file.id)">
              <i class="fas fa-trash"></i>
            </span>
            <a class="cursor-pointer gray-text" href="{{file.link}}">
              <i class="fas fa-file-download"></i>
            </a>
          </span>
        </div>
      </div>
    </div>

    <div class="col-md-12">
      <hr>
    </div>

    <p class="explainer-mini text-uppercase col-md-8 mt-3">Project news</p>

    <div class="col-md-8">
      <input type="text" class="form-control w-100" id="newsLink"
        placeholder="News link (e.g. https://portal.com/news)">
    </div>
    <div class="col-md-4">
      <button (click)="addNewsLink()" class="w-100 btn btn-primary h-100">
        <i class="fas fa-plus mr-2"></i>
        Add news
      </button>
    </div>

    <div class="col-md-12 mt-3">
      <ul class="list-group">
        <li *ngFor="let item of project.news" class="list-group-item d-flex flex-row justify-content-between">
          <a href="{{item}}" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis" class="w-75">
            {{item}}
          </a>
          <div class="cursor-pointer" (click)="deleteNewsClicked(item)">
            <i class="fas fa-trash"></i>
          </div>
        </li>
      </ul>
    </div>




    <div class="col-md-12 mt-5 mb-5">
      <button class="btn btn-primary w-100 py-3 float-right">
        <i class="fas fa-check mr-3"></i>
        <span>Update</span>
      </button>
    </div>

  </div>

  <!-- Wallet doesn't exist -->
  <div *ngIf="wallet == undefined" class="row">
    <div class="row pt-5">
      <div class="col-md-12 text-center mt-5 d-flex justify-content-center">
        <div class="pairing-text">
          For security reasons, you must authorize the group with your wallet. This is done automatically by scanning
          the QR code with your
          <b>AMPnet Wallet</b> application.
        </div>
      </div>
      <div class="col-md-12 mt-5 d-flex justify-content-center">
        <canvas class="" id="pairing-code"></canvas>
      </div>
    </div>
  </div>
</div>