<ng-container *ngIf="(projects$ | async) as projects else spinner">
    <div *ngIf="projects.length === 0" class="col-md-12">
        <div class="w-100 text-center mt-5 mb-5">
            <p>There are no projects associated with this organization.</p>
        </div>
    </div>

    <ul class="list-group">
        <li *ngFor="let project of projects"
            class="list__item">
            <div class="item__top">
                <div class="top__left">
                    <img src="{{ project.main_image}}" alt="Project image">
                </div>
                <div class="top__right">
                    <div class="item__title"
                         routerLink="manage_project/{{ project.uuid }}">
                        {{ project.name }}
                    </div>
                    <div class="item__funding">
                        <b>Funding </b>{{ project.start_date | date: "longDate" }} - {{ project.end_date | date: "longDate" }}
                    </div>
                </div>
            </div>
            <div class="item__bottom">
                <div class="item__progress-bar">
                    <!-- TODO: Implement progress bar here when data is available -->
                    Progress bar
                </div>
                <div class="item__toggle">
                    <span *ngIf="project.active" (click)="toggleProject(project.uuid, projects)"
                          class="item__icon flex__center">
                        <i class="fas fa-eye mr-2"></i>
                        Publish
                    </span>
                    <span *ngIf="!project.active" (click)="toggleProject(project.uuid, projects)"
                          class="item__icon flex__center">
                        <i class="fas fa-eye-slash mr-2"></i>
                        Unpublish
                    </span>
                </div>
            </div>
        </li>
    </ul>
</ng-container>
<ng-template #spinner>
    <app-spinner type="overlay"></app-spinner>
</ng-template>

