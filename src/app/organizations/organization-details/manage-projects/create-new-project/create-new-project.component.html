<div class="container root-content-container">
    <h5 class=" gray-text"><b>Create a new project</b></h5>
    <div class="mt-3 mb-3 w-100">
        <div class="alert alert-info text-left">
            <div class="ml-4">
                Once a project is created, the following parameters cannot be changed:
                <ul class="mt-3">
                    <li>Start date</li>
                    <li>End date</li>
                    <li>Minimum funding per user</li>
                    <li>Maximum funding per user</li>
                    <li>Expected funding</li>
                </ul>
                <div class="mt-3">
                    Please make sure these parameters are finalized <i>before</i> creating the project.
                </div>
            </div>

        </div>
    </div>
    <form [formGroup]="createForm" class="mb-5">
        <div class="explainer-mini mb-2 mt-3">Project name</div>
        <input class="w-100 p-4 form-control" formControlName="name" id="" name="" type="text">

        <div class="explainer-mini mb-2 mt-3">Project description</div>
        <textarea class="form-control p-4" cols="30" id="project-description" name=""
                  formControlName="description"
                  rows="10" style="border-radius: 5px!important;">
        </textarea>

        <div class="explainer-mini mb-2 mt-3">Project location</div>
        <app-location-map [editable]="true"
                          [(lat)]="mapLat" [(lng)]="mapLong">
        </app-location-map>

        <div class="explainer-mini mb-2 mt-3">Start date</div>
        <input class="w-100 p-4 form-control" formControlName="startDate"
               id="start-date" placeholder="dd/mm/yyyy" bsDatepicker
               [bsConfig]="bsConfig" (click)="setDatepickerOptions()">

        <div class="explainer-mini mb-2 mt-3">End date</div>
        <input class="w-100 p-4 form-control" formControlName="endDate"
               id="end-date" placeholder="dd/mm/yyyy" bsDatepicker
               [bsConfig]="bsConfig" (click)="setDatepickerOptions()">

        <div class="explainer-mini mb-2 mt-3">Expected funding</div>
        <app-money-input-field
                placeholder="Enter expected funding amount"
                inputClass="form-control form-control-validation"
                [control]="createForm.get('expectedFunding')">
        </app-money-input-field>

        <div class="explainer-mini mb-2 mt-3">Minimum investment per user</div>
        <app-money-input-field
                placeholder="Enter minimum investment per user"
                inputClass="form-control form-control-validation"
                [control]="createForm.get('minPerUser')">
        </app-money-input-field>

        <div class="explainer-mini mb-2 mt-3">Maximum investment per user</div>
        <app-money-input-field
                placeholder="Enter maximum investment per user"
                inputClass="form-control form-control-validation"
                [control]="createForm.get('maxPerUser')">
        </app-money-input-field>

        <div *ngIf="createForm.dirty && createForm.invalid">
            <div class="alert alert-warning flex__center mb-2 mt-3"
                 *ngIf="createForm.hasError('invalidStartEndDate') && createForm.controls['startDate'].touched">
                <i class="fas fa-exclamation-triangle mr-2"></i>
                Start date has to be lower than the end date.
            </div>
            <div class="alert alert-warning flex__center mb-2 mt-3"
                 *ngIf="createForm.hasError('invalidExpectedFunding') && createForm.controls['expectedFunding'].touched">
                <i class="fas fa-exclamation-triangle mr-2"></i>
                Maximum investment per user cannot be equal or greater than project investment cap.
            </div>
            <div class="alert alert-warning flex__center mb-2 mt-3"
                 *ngIf="createForm.hasError('invalidMinInvest') && createForm.controls['minPerUser'].touched">
                <i class="fas fa-exclamation-triangle mr-2"></i>
                Minimum investment per user has to be greater than zero.
            </div>
            <div class="alert alert-warning flex__center mb-2 mt-3"
                 *ngIf="createForm.hasError('invalidMaxInvest') && createForm.controls['maxPerUser'].touched">
                <i class="fas fa-exclamation-triangle mr-2"></i>
                Maximum investment per user has to be greater than minimum investment per user.
            </div>
        </div>

        <div class="explainer-mini mb-2 mt-3">
            <app-action-button text="Create" loadingText="Creating project..."
                               [onClick]="submitForm.bind(this)"
                               [disabled]="!createForm.valid">
            </app-action-button>
        </div>
    </form>
</div>
