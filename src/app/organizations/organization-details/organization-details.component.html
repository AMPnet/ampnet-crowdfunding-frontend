<div class="container root-content-container">

  <div *ngIf="organization != undefined">
    <div class="row">
      <div class="col-md-8 h5">
        {{organization.name}}
      </div>
      <div class="col-md-4">
          <button [disabled]="!organization.approved" 
          routerLink="create_project"
          class="btn btn-primary py-2 w-100">
          <i class="fas fa-plus-circle mr-2"></i>
          Create project
        </button>
      </div>
    </div>
  </div>

  <div *ngIf="orgWallet == undefined" class="row">
    <div class="row pt-5">
      <div class="col-md-12 text-center mt-5 d-flex justify-content-center">
        <div class="pairing-text">
          For security reasons, you must authorize the group with your wallet. This is done automatically by scanning
          the QR code with your
          <b>AMPnet Wallet</b> application.
        </div>
      </div>
      <div *ngIf="qrCodeData != ''" class="col-md-12 mt-5 d-flex justify-content-center">
        <app-sign-broadcast [txData]="qrCodeData"></app-sign-broadcast>
      </div>
    </div>
  </div>

  <div *ngIf="orgWallet != undefined">
    <div class="row mt-3">
      <div *ngIf="!organization.approved" class="col-md-12">
        <div class="alert alert-warning">
          This group is pending approval from admin. During this time, you can't create new projects.
        </div>
      </div>
      <div class="col-md-12 mt-3">
        <div class="explainer-mini text-uppercase">Invite new members</div>
      </div>
      <div class="col-md-8">
        <input id="email-invite-input" value="" class="form-control mt-3" type="text" placeholder="Enter user email" name="">
      </div>
      <div class="col-md-4">
        <button (click)="inviteClicked()" class="btn btn-primary w-100 mt-3">
          <i class="fas fa-envelope-open mr-2"></i>
          Invite
        </button>
      </div>
      <div class="col-md-12">
        <hr>
      </div>

      <div class="col-md-12 mt-3">
        <app-manage-projects [groupID]="organization.id" ></app-manage-projects>
        <hr>
      </div>
      <div class="col-md-12">
        <div class="explainer-mini text-uppercase mb-3">Manage users</div>
        <ul class="list-group">
          <li *ngFor="let member of orgMembers" class="list-group-item">
            <span class="float-left">{{member.first_name}} {{member.last_name}}</span>
            <span class="float-right">
              <i class="fas fa-trash cursor-pointer"></i> 
            </span>
          </li>
        </ul>
        <div *ngIf="(orgMembers != undefined) && (orgMembers.length == 0)" class="w-100 pt-3 pb-3 text-center explainer-mini">
          You are the only member of {{organization.name}}
        </div> 
      </div>
    </div>
  </div>


</div>